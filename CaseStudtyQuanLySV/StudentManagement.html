<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="/CaseStudtyQuanLySV/Student.js"></script>
    <script src="/CaseStudtyQuanLySV/BanMaiClass.js"></script>
</head>

<body>
    <table>
        <tr>
            <th>Quản lý học viên lớp Ban Mai</th>
            <td>Sĩ số lớp: </td>
            <td id="sum"></td>
            <th>
                <button id="btnAdd" onclick="clickBtnAdd()">Add</button>
            </th>
        </tr>
    </table>
    <table border="1">
        <thead>
            <th>TT</th>
            <th>Họ và tên</th>
            <th>Ngày sinh</th>
            <th>Giới tính</th>
            <th>Địa chỉ</th>
            <th>Họ tên phụ huynh</th>
            <th>SĐT phụ huynh</th>
            <th>Ghi chú</th>
            <th>Sửa</th>
            <th>Xoá</th>
        </thead>
        <tbody id="data"></tbody>
    </table>
    <script>
        let lopBanMai = new LopBanMai()
        let student = new Student();
        student = JSON.parse(localStorage.getItem('listStudents'))
        lopBanMai.addStudent(student);
        if ( typeof(Storage) !== 'undefined') {
        show()
        }
        function clickBtnAdd() {
            var redirectWindow = window.open('http://127.0.0.1:5500/CaseStudtyQuanLySV/FormRegister.html', '_blank');
            redirectWindow.location;
        }
        function show() {
            let students = lopBanMai.getStudents()
            let str = "";
            for (let i = 0; i < students.length; i++) {
                str += `
            <tr>
                <td>${i + 1}</td>
                <td>${students[i].getName()}</td>
                <td>${students[i].getDob()}</td>
                <td>${students[i].getGender()}</td>
                <td>${students[i].getAddress()}</td>
                <td>${students[i].getParents()}</td>
                <td>${students[i].getPhone()}</td>
                <td>${students[i].getNote()}</td>
                <td><button type="button" onclick="edit()">Edit</button></td>
                <td><button type="button" onclick="delete()">Delete</button></td>
            </tr>
            `
            }
            document.getElementById("data").innerHTML = str
            document.getElementById("sum").innerText = students.length
        }

    </script>
</body>

</html>